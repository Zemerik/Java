name: ğŸŠ Welcome New Contributors

on:
  pull_request:
    types: [opened]

jobs:
  welcome:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸŠ Welcome New Contributors
        uses: actions/github-script@v6
        with:
          script: |
            const { data: commits } = await github.rest.repos.listCommits({
              owner: context.repo.owner,
              repo: context.repo.repo,
              sha: context.payload.pull_request.head.sha,
            });
            
            // Check if this is the first contribution to the repo
            const { data: allCommits } = await github.rest.repos.listCommits({
              owner: context.repo.owner,
              repo: context.repo.repo,
            });
            
            const isFirstTimeContributor = allCommits.every(commit => 
              commit.author.login !== context.payload.pull_request.user.login
            );
            
            if (isFirstTimeContributor) {
              await github.rest.issues.createComment({
                owner: context.repo.owner,
                repo: context.repo.repo,
                issue_number: context.payload.pull_request.number,
                body: `
                ğŸŠ **Welcome to the Java Community!** ğŸŠ
                
                This is your very first contribution to our repository! We're absolutely thrilled to have you join our mission to make Java learning accessible to everyone! ğŸŒŸ
                
                **You're Making History:**
                - ğŸ† You're helping build the future of Java education
                - ğŸŒ Your contribution will help students worldwide
                - ğŸš€ You're joining a community of passionate learners and educators
                - ğŸ’ª You're taking the first step in open source contribution
                
                **What Makes This Special:**
                - ğŸ“š You're contributing to a comprehensive 50-day learning journey
                - ğŸ¯ Your work will help thousands of students master Java
                - ğŸ¤ You're becoming part of a supportive learning community
                - ğŸŒŸ You're helping create better educational resources
                
                **Your Contribution Journey:**
                - âœ… We'll review your PR with extra care and encouragement
                - ğŸ’¬ We'll provide detailed, helpful feedback
                - ğŸ¯ We'll guide you through any improvements needed
                - ğŸš€ Once approved, your contribution will be merged!
                - ğŸ… You'll be recognized as a valued community member
                
                **Tips for Success:**
                - ğŸ“– Review our [CONTRIBUTING.md](CONTRIBUTING.md) thoroughly
                - ğŸ§ª Test your code to ensure it works correctly
                - ğŸ“ Write clear, beginner-friendly explanations
                - ğŸ’¡ Don't hesitate to ask questions in the comments
                
                **Community Support:**
                - ğŸ’¬ Our team is here to help you succeed
                - ğŸ¤ We want this to be a positive learning experience
                - ğŸ“š We'll guide you through any challenges
                - ğŸŒŸ We celebrate every contribution, big or small
                
                **Next Steps:**
                - â±ï¸ We'll review your PR within 24-48 hours
                - ğŸ’¬ We'll provide constructive feedback
                - ğŸ”„ We may suggest small improvements
                - ğŸš€ Once approved, your work will be live!
                
                Welcome to the Java family! You're helping make Java learning better for everyone! ğŸ’ªâœ¨
                
                **P.S.** Don't forget to star â­ our repository if you find it helpful!
                `
              });
              
              // Add special labels for first-time contributors
              await github.rest.issues.addLabels({
                owner: context.repo.owner,
                repo: context.repo.repo,
                issue_number: context.payload.pull_request.number,
                labels: ['first-time-contributor', 'welcome', 'community-hero']
              });
            } 